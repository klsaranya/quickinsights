<link rel="import" href="../bower_components/polymer/polymer.html">
<script src="http://www.parsecdn.com/js/parse-1.4.0.min.js"></script>
<link rel = "import" href="../graph-comp.html">

<polymer-element name="ds-graph" attributes="ans">
<template>
  <style>
  div{
    height: 100%;
    width: 100%;
  }
    graph-comp{
      height:150px;
      width:300px;
    }
  </style>
  <div>
     <graph-comp array="{{data}}"></graph-comp>
  </div>
  

 </template>
<script>

Polymer('ds-graph', {
	data:[],
  avg:0.0,
  ready: function() {
    console.log("ds-graph ready");
  },
  ansChanged: function(){
    var mean = 0;
    console.log(this.ans);
    for(var i=0;i<=10;i++)
    {
      var count = 0;
      for(var j=0;j<this.ans.length;j++)
      {
        mean = mean + this.ans[j];
        // console.log(mean);
        var index = Math.ceil(this.ans[j]/20);
        if(index == i)
          count++;
       } 
      this.data[i]=count;
    }
    console.log(this.data);
    this.avg = mean/(11*this.ans.length);
    console.log(this.avg);
    }
});

</script>
</polymer-element>